<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules index Modules × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-12-11T20:51:22+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules index Nodeshift What is itNodeshift is an opinionated command line application and programmable API that you can use to deploy Node.js projects to OpenShift. It's currently under heavy development and APIs are still shifting a bit. However, in spite of its beta nature, you can use nodeshift today to deploy Node.js applications to OpenShift. Prerequisites Node.js - version 8.x or greater InstallTo install globally: npm install -g nodeshift or to use in an npm script npm install --save-dev nodeshift // inside package.json scripts: { nodeshift: nodeshift } $ npm run nodeshiftCore ConceptsCommands &amp; GoalsBy default, if you run just nodeshift, it will run the deploy goal, which is a shortcut for running resource, build and apply-resource. resource - will parse and create the application resources files on disk apply-resource - does the resource goal and then deploys the resources to your running cluster build - archives the code, creates a build config and imagestream and pushes the binary to the cluster deploy - a shortcut for running resource, build and apply-resource undeploy - removes resources that were deployed with the apply-resource command .nodeshift DirectoryThe .nodeshift directory contains your resource fragements. These are .yml files that describe your services, deployments, routes, etc. By default, nodeshift will create a Service and DeploymentConfig if none are provided. A Route resource fragment should be provided if you want to expose your application to the outside world. Resource FragmentsOpenShift resource fragments are user provided YAML files which describe and enhance your deployed resources. They are enriched with metadata, labels and more by nodeshift. Each resource gets its own file, which contains some skeleton of a resource description. Nodeshift will enrich it and then combine all the resources into a single openshift.yml and openshift.json(located in ./tmp/nodeshift/resource/). The resource object's Kind, if not given, will be extracted from the filename. EnrichersEnrichers will add things to the resource fragments, like missing metadata and labels. If your project uses git, then annotations with the git branch and commit hash will be added to the metadata. Default Enrichers will also create a default Service and DeploymentConfig when none are provided. Resource Fragment ParametersSome Resource Fragments might need to have a value set at &quot;run time&quot;. For example, in the fragment below, we have the ${SSO_AUTH_SERVER_URL} parameter: apiVersion: v1 kind: Deployment metadata: name: nodejs-rest-http-secured spec: template: spec: containers: - env: - name: SSO_AUTH_SERVER_URL value: &quot;${SSO_AUTH_SERVER_URL}&quot; - name: REALM value: masterTo set that using nodeshift, use the -d option with a KEY=VALUE, like this: nodeshift -d SSO_AUTH_SERVER_URL=https://sercure-url APIAlong with the command line, there is also a public API. The API mirrors the commands. resource applyResource build deploy undeploy Options that you can specify on the command line, can also be passed as an options object to the API All methods are Promise based and will return a JSON object with information about each goal that is run. For example, if the deploy method was run, it would return something similar: { build: { ... // build information }, resources: [ ... // resources created ], appliedResources: [ ... // resources that were applied to the running cluster ] }Example Usageconst nodeshift = require('nodeshift'); // Deploy an Application nodeshift.deploy().then((response) =&gt; { console.log(response); console.log('Application Deployed') }).catch((err) =&gt; { console.log(err); })please note: Currently, once a route, service, deployment config, build config, and imagestream config are created, those are re-used. The only thing that changes from deployment to deployment is the source code. For application resources, you can update them by undeploying and then deploying again. BuildConfigs and Imagestreams can be re-created using the --build.recreate flag Advanced OptionsWhile nodeshift is very opinionated about deployment parameters, both the CLI and the API accept options that allow you to customize nodeshift's behavior. versionOutputs the current version of nodeshift projectLocationChanges the default location of where to look for your project. Defaults to your current working directory(CWD) strictSSLThis option is passed through to the Openshift Rest Client for SSL use. To allow using a self-signed cert, set to false tryServiceAccountThis option is passed through to the Openshift Config Loader. Set to false to by-pass service account lookup or use the KUBERNETES_AUTH_TRYSERVICEACCOUNT environment variable nodeVersionSpecify the version of Node.js to use for the deployed application. defaults to latest. These version tags corespond to the docker hub tags of the bucharest-gold s2i images quietsupress INFO and TRACE lines from output logs. build.recreateFlag to recreate a BuildConfig or Imagestream. Defaults to false. Choices are &quot;buildConfig&quot;, &quot;imageStream&quot;, false, true. If true, both are re-created build.forcePullFlag to make your BuildConfig always pull a new image from dockerhub. Defaults to false helpShows the below help Usage: nodeshift [--options] Commands: nodeshift deploy default command - deploy [default] nodeshift build build command nodeshift resource resource command nodeshift apply-resource apply resource command nodeshift undeploy undeploy resources Options: --version Show version number [boolean] --projectLocation change the default location of the project [string] --strictSSL setting to pass to the Openshift Rest Client. Set to false if using a self-sign cert --tryServiceAccount setting to pass to the Openshift Config Loader. Set to false to by-pass service account lookup or use the KUBERNETES_AUTH_TRYSERVICEACCOUNT environment variable --nodeVersion, -n the version of Node.js to use for the deployed application. [string] [choices: &quot;latest&quot;, &quot;9.x&quot;, &quot;8.x&quot;, &quot;7.x&quot;, &quot;6.x&quot;, &quot;5.x&quot;, &quot;4.x&quot;] [default: &quot;latest&quot;] --quiet supress INFO and TRACE lines from output logs [boolean] --build.recreate flag to recreate a buildConfig or Imagestream [choices: &quot;buildConfig&quot;, &quot;imageStream&quot;, false, true] [default: false] --build.forcePull flag to make your BuildConfig always pull a new image from dockerhub or not [boolean] [choices: true, false] [default: false] --metadata.out determines what should be done with the response metadata from OpenShift [string] [choices: &quot;stdout&quot;, &quot;ignore&quot;, &quot;&lt;filename&gt;&quot;] [default: &quot;ignore&quot;] --help Show help [boolean] --cmd [default: &quot;deploy&quot;]ContributingPlease read the contributing guide × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-12-11T20:51:22+00:00 using the DocStrap template. "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" Documentation Modules index Module: index Methods &lt;inner&gt; applyResource( [options]) The apply-resource function does what resource does, but also pushes those resource fragments to your cluster Parameters: Name Type Argument Description options object &lt;optional&gt; - Properties Name Type Argument Description projectLocation string &lt;optional&gt; the location(directory) of your projects package.json. Defaults to `process.cwd` strictSSL boolean &lt;optional&gt; Set to false to allow self-signed Certs tryServiceAccount boolean &lt;optional&gt; Set to false to by-pass service account lookup nodeVersion string &lt;optional&gt; set the nodeversion to use for the bucharest-gold/centos7-s2i-image. Versions are docker hub tags: https://hub.docker.com/r/bucharestgold/centos7-s2i-nodejs/tags/ quiet boolean &lt;optional&gt; supress INFO and TRACE lines from output logs build object &lt;optional&gt; - Properties Name Type Argument Description recreate string/boolean &lt;optional&gt; flag to recreate a buildConfig or Imagestream. values are &quot;buildConfig&quot;, &quot;imageStream&quot;, true, false. Defaults to false forcePull boolean &lt;optional&gt; flag to make your BuildConfig always pull a new image from dockerhub or not. Defaults to false definedProperties array &lt;optional&gt; Array of objects with the format { key: value }. Used for template substitution Returns: - Returns a JSON Object Type Promise &lt;inner&gt; build( [options]) The build function will archive your code, create a BuildConfig and Imagestream and then upload the archived code to your cluster Parameters: Name Type Argument Description options object &lt;optional&gt; - Properties Name Type Argument Description projectLocation string &lt;optional&gt; the location(directory) of your projects package.json. Defaults to `process.cwd` strictSSL boolean &lt;optional&gt; Set to false to allow self-signed Certs tryServiceAccount boolean &lt;optional&gt; Set to false to by-pass service account lookup nodeVersion string &lt;optional&gt; set the nodeversion to use for the bucharest-gold/centos7-s2i-image. Versions are docker hub tags: https://hub.docker.com/r/bucharestgold/centos7-s2i-nodejs/tags/ quiet boolean &lt;optional&gt; supress INFO and TRACE lines from output logs build object &lt;optional&gt; - Properties Name Type Argument Description recreate string/boolean &lt;optional&gt; flag to recreate a buildConfig or Imagestream. values are &quot;buildConfig&quot;, &quot;imageStream&quot;, true, false. Defaults to false forcePull boolean &lt;optional&gt; flag to make your BuildConfig always pull a new image from dockerhub or not. Defaults to false definedProperties array &lt;optional&gt; Array of objects with the format { key: value }. Used for template substitution Returns: - Returns a JSON Object Type Promise &lt;inner&gt; deploy( [options]) The deploy function will do the combination of resource, build and apply-resource Parameters: Name Type Argument Description options object &lt;optional&gt; - Properties Name Type Argument Description projectLocation string &lt;optional&gt; the location(directory) of your projects package.json. Defaults to `process.cwd` strictSSL boolean &lt;optional&gt; Set to false to allow self-signed Certs tryServiceAccount boolean &lt;optional&gt; Set to false to by-pass service account lookup nodeVersion string &lt;optional&gt; set the nodeversion to use for the bucharest-gold/centos7-s2i-image. Versions are docker hub tags: https://hub.docker.com/r/bucharestgold/centos7-s2i-nodejs/tags/ quiet boolean &lt;optional&gt; supress INFO and TRACE lines from output logs build object &lt;optional&gt; - Properties Name Type Argument Description recreate string/boolean &lt;optional&gt; flag to recreate a buildConfig or Imagestream. values are &quot;buildConfig&quot;, &quot;imageStream&quot;, true, false. Defaults to false forcePull boolean &lt;optional&gt; flag to make your BuildConfig always pull a new image from dockerhub or not. Defaults to false definedProperties array &lt;optional&gt; Array of objects with the format { key: value }. Used for template substitution Returns: - Returns a JSON Object Type Promise &lt;inner&gt; resource( [options]) The resource function will find and enrich all the resource fragments from the .nodeshift directory and create missing service and deployment configs. An openshift.yaml and openshift.json will also be created in the ./tmp/nodeshift/resource directory Parameters: Name Type Argument Description options object &lt;optional&gt; - Properties Name Type Argument Description projectLocation string &lt;optional&gt; the location(directory) of your projects package.json. Defaults to `process.cwd` strictSSL boolean &lt;optional&gt; Set to false to allow self-signed Certs tryServiceAccount boolean &lt;optional&gt; Set to false to by-pass service account lookup nodeVersion string &lt;optional&gt; set the nodeversion to use for the bucharest-gold/centos7-s2i-image. Versions are docker hub tags: https://hub.docker.com/r/bucharestgold/centos7-s2i-nodejs/tags/ quiet boolean &lt;optional&gt; supress INFO and TRACE lines from output logs build object &lt;optional&gt; - Properties Name Type Argument Description recreate string/boolean &lt;optional&gt; flag to recreate a buildConfig or Imagestream. values are &quot;buildConfig&quot;, &quot;imageStream&quot;, true, false. Defaults to false forcePull boolean &lt;optional&gt; flag to make your BuildConfig always pull a new image from dockerhub or not. Defaults to false definedProperties array &lt;optional&gt; Array of objects with the format { key: value }. Used for template substitution Returns: - Returns a JSON Object Type Promise &lt;inner&gt; undeploy( [options]) The undeploy function will use the openshift.yaml/openshift.json from the resource function and remove those values from your cluster. Parameters: Name Type Argument Description options object &lt;optional&gt; - Properties Name Type Argument Description projectLocation string &lt;optional&gt; the location(directory) of your projects package.json. Defaults to `process.cwd` strictSSL boolean &lt;optional&gt; Set to false to allow self-signed Certs tryServiceAccount boolean &lt;optional&gt; Set to false to by-pass service account lookup nodeVersion string &lt;optional&gt; set the nodeversion to use for the bucharest-gold/centos7-s2i-image. Versions are docker hub tags: https://hub.docker.com/r/bucharestgold/centos7-s2i-nodejs/tags/ quiet boolean &lt;optional&gt; supress INFO and TRACE lines from output logs build object &lt;optional&gt; - Properties Name Type Argument Description recreate string/boolean &lt;optional&gt; flag to recreate a buildConfig or Imagestream. values are &quot;buildConfig&quot;, &quot;imageStream&quot;, true, false. Defaults to false forcePull boolean &lt;optional&gt; flag to make your BuildConfig always pull a new image from dockerhub or not. Defaults to false definedProperties array &lt;optional&gt; Array of objects with the format { key: value }. Used for template substitution Returns: - Returns a JSON Object Type Promise × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-12-11T20:51:22+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
